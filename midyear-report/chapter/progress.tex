\chapter{Current progress}

\label{ch:progress}

\section{\NP{} as puzzles, or one-move games}

Recall that \NP{} is the class of problems solvable by guess-and-check, with a
\emph{check} problem in \P{} (\cref{defn:np}):
\[
  \NP = \SetBuilder{L}{
    \exists \underbrace{\mathstrut L' \in \P}_{\mathclap{\text{the ``check'' problem}}} \;
    \forall x \quad
    x \in L \iff \underbrace{\exists g \; (x, g) \in L'}_{\mathclap{\text{guess-and-check}}}
  }.
\]
(In the above, it is \emph{implicitly} required that \(\Abs g\) be
polynomially-bounded with respect to \(\Abs x\), but we have omitted it in
notation for readability.)

Another famous example of a problem in \NP{} is \Problem{sudoku}, framed as the
following decision problem:
\begin{definition}[\Problem{sudoku}]%
  We are given a square grid with dimensions \(n^2\times n^2\), some of whose
  cells are filled in with numbers in \(\{1,\dotsc,n^2\}\).  The grid is
  evenly partitioned into \(n\) chunks along each axis, resulting in \(n^2\)
  \emph{blocks} each with dimensions \(n\times n\).

  Does there exist a way to fill in the rest of the cells so that each row,
  column, and block on the grid contains each number in \(\{1,\dotsc,n^2\}\)
  exactly once?
\end{definition}

\todo[inline]{TODO add illustration of Sudoku board}

For this problem, a ``guess'' \(g\) consists of a list of numbers in
\(\{1,\dotsc,n^2\}\) specifying the values with which to fill in the empty
cells in the given grid.  The ``check'' problem, then, is stated as follows:
\begin{nested}
  Given a fully-filled-in Sudoku board, does each row, column, and block on the
  grid contain each of \(\{1,\dotsc,n^2\}\) exactly once?
\end{nested}




%Also recall an example of an \NP{} problem, \Problem{hamiltonian-path}
%(\cref{def:hamiltonian-path}), which asks: given a graph, does it have a
%Hamiltonian path?  Here, the ``check'' problem \(L'\) can be stated as follows:
%\begin{nested}
%  Given a graph \(x = \Gamma\) with vertices \(v_1,\dotsc,v_n\), along with a
%  permutation \(g = \phi(1),\dotsc,\phi(n)\), does the sequence
%  \(v_{\phi(1)},\dotsc,v_{\phi(n)}\) specify a valid path on \(\Gamma\)?
%\end{nested}
%
%We can now intuitively reframe \Problem{hamiltonian-path} as a one-player
%``game'', played on an input ``board'' in the form

%in which the player writes down some
%permutation \(\phi\).  They ``win'' if it meets the validity condition \((x, g)
%\in L'\) and ``lose'' if it doesn't.  Under this framing, the decision problem
%becomes the following question: does the player have a winning \emph{strategy}?

\section{Multi-turn games and the polynomial hierarchy}

Consider, now, a two player, a ``solver'' and an
``adversary'', in two turns:
\begin{itemize}
  \item First, the solver
  \item Next, the adversary
\end{itemize}

This ``guess-and-check'' extension of \P{} may be continued

to define higher
and higher complexity classes, known as the \emph{polynomial hierarchy}:
\begin{definition}[polynomial hierarchy]
  \begin{align*}
    \SigmaP1 &= \NP = \SetBuilder{L}{\exists L' \in \P \; \forall x \quad
      x \in L \iff \exists g \; (x, g) \in L'
    }, \\
    \SigmaP2 &= \NP = \SetBuilder{L}{\exists L' \in \P \; \forall x \quad
      x \in L \iff \exists g \; (x, g) \in L'
    }, \\
  \end{align*}
\end{definition}




%In general, any complexity class has a guess-and-check equivalent, called its
%\emph{projection}:
%\begin{definition}[projection]
%  Let \(\C\) be a complexity class.  Its \emph{projection} is the class of
%  problems
%  \[
%    \pro\C = \SetBuilder*{L}{
%      \exists L' \in \C, \text{polynomial \(p\)}; \; \forall x \quad
%      x \in L \iff
%      \exists g \; \text{\(\Abs g \le p(\Abs x)\) and \((x, g) \in L'\)}
%    }.
%  \]
%
%  (Observe, then, that \(\NP = \pro\P\).)
%\end{definition}








\section{Boolean Satisfiability}

\subsection{The Satisfiability puzzle}

\todo{context on what booleans are?}

Our puzzles-and-games characterization of the polynomial hierarchy begins with
a well-known family of problems generally referred to as Boolean Satisfiability
problems.  Here is perhaps the simplest, most well-known Satisfiability puzzle:

\begin{definition}[\Problem{sat}]%
  Given a Boolean formula \(\phi(x_1, \dots, x_n)\), does there exist an
  assignment of Boolean values to inputs \(x_1, \dots, x_n\) such that
  \(\phi(x_1, \dots, x_n) = 1\)?  \Problem{sat} consists of the formula
  instances for which the answer is \emph{yes}.

  Formally:
  \[
    \Problem{sat} = \SetBuilder \phi {
      \exists (x_1, \dots, x_n) \in \Set{0,1}^n \quad \phi(x_1, \dots, x_n) = 1
    }.
  \]
\end{definition}

The \SAT{} puzzle is particularly useful and worth studying because of its
generality.  Booleans form the foundation of mathematical logic: every logical
statement can be encoded, in some manner, as a Boolean formula.  Consequently,
\SAT{} is, on an intuitive level, the most general possible puzzle---given any
other puzzle, encoding its rules in terms of Booleans reveals that it is merely
a special case of \SAT.  This idea is expressed formally as the Cook-Levin
theorem:

\begin{theorem}[Cook-Levin]
  \SAT{} is \NP-complete.
\end{theorem}

%\begin{proof}
%  \todo[inline]{put proof.  the most important reason to have the proof here is
%  to illustrate}
%\end{proof}

\subsection{Satisfiability games}

\begin{definition}[The two-turn \SAT{} games]%
  The two-turn \SAT{} game is played on a Boolean formula \(\phi(x_1, \dots,
  x_n, y_1, \dots, y_n)\) with inputs partitioned into two groups \(X =
  \Set{x_i}\) and \(Y = \Set{y_i}\).  The two turns proceed as follows:
  \begin{enumerate}
    \item Player 1 assigns values to \(X\).
    \item Player 2 assigns values to \(Y\).
  \end{enumerate}
  Player 1 wins if \(\phi\) is satisfied (\(\phi(\dots) = 1\)), and player 2
  wins if \(\phi\) is falsified.

  Who wins?  Two decision problems arise from this game:
  \begin{itemize}
    \item Does player 1 have a winning strategy?  That is, can player 1 make
      some first move so that no matter what player 2 does, player 1 always
      wins?

    \item Does player 2 have a winning strategy?  That is, no matter what
      player 1 plays, can player 2 respond with some move guaranteeing a win?
  \end{itemize}

\end{definition}


\section{Graph coloring}

\begin{definition}[\Problem{3col}]%
  Given a graph \(\Gamma\), is there a way to color each vertex in  \(\Gamma\)
  with one of three colors so that every pair of adjacent vertices has distinct
  colors?
\end{definition}

\begin{theorem}
  \Problem{3col} is \NP-complete.
\end{theorem}

\subsection{Graph coloring games}

\begin{definition}[Two-turn \Problem{3col}]%
  The two-turn \Problem{3col} game is played on a graph \(\Gamma\) whose
  vertices are partitioned into two (disjoint) groups \(X\) and \(Y\).  Two
  players take turns assigning one of three colors to vertices.  First, player
  1 colors vertices in \(X\); second, player 2 colors  vertices in \(Y\).
  Player 1 wins if the resulting coloring is \emph{invalid}---that is, there
  exists a pair of vertices sharing the same color; player 2 wins if the
  resulting coloring is valid.

\end{definition}

\begin{conjecture}
  Two-turn \Problem{3col} is complete for \SigmaP2 (or \PiP2, depending on
  which player's winning strategy we examine).
\end{conjecture}










%\section{Puzzle generation}
%
%\label{sec:progress.generation}
%
%The topic of puzzle generation difficulty has been explored in detail by Laura
%Sanchis
%\parencite{language-instances,test-gen-complexity,hard-diverse-graph-tests}.
%
%\todo[inline]{incomplete; i'm focusing my effort on the fixed-turn section first
%because that's more novel/interesting}
%
%\subsection{Puzzles with unique solutions}
%
%In many popularly-known puzzle games, one criterion for ``good'' puzzle
%generation is that the generated puzzle instance should have a unique solution.
%For example, given a \(9\times9\) Sudoku grid (partially pre-filled with
%numbers \(1,\dotsc,9\)), there should be \emph{exactly one} way to complete the
%grid---no more, no less.
%
%This formulation is incompatible with our
%
%\section{\PSPACE-complete games}
%
%\label{sec:progress.pspace}
%
%\todo[inline]{incomplete}
%
%\section{Fixed-turn games}
%
%\label{sec:progress.ph}
%
%
